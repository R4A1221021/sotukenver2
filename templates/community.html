{% extends "layout.html" %} {# 親テンプレート 'layout.html' を継承することを指定します #}

{% block title %}コミュニティ{% endblock %} {# 親の 'title' ブロックを「コミュニティ」で上書きします (ブラウザのタブに表示されます) #}
{% block header_title %}ユーザーコミュニティ（情報交換）{% endblock %} {# 親の 'header_title' ブロックを「ユーザーコミュニティ（情報交換）」で上書きします (画面上部ヘッダーに表示) #}

{% block content %} {# 親テンプレートの 'content' (メインコンテンツ) ブロックの開始。以下の内容が挿入されます #}
<div class="p-4 md:p-8">
    <h2 class="text-2xl font-bold mb-4">地域の情報掲示板</h2> <form action="{{ url_for('community') }}" method="POST" class="bg-white p-6 rounded-xl shadow-lg mb-6">
        <h3 class="text-lg font-semibold mb-4 text-blue-700">新規投稿</h3> <div class="mb-4"> <label class="block text-gray-700 font-medium">件名:</label> <input type="text" name="title" class="mt-1 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div> <div class="mb-4"> <label class="block text-gray-700 font-medium">内容:</label> <textarea name="content" rows="3" class="mt-1 p-3 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="地域の情報を入力してください..." required></textarea>
        </div> <button type="submit" class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all font-semibold shadow-md">投稿する</button>
    </form> <div class="bg-white p-6 rounded-xl shadow-lg">
        <h3 class="text-lg font-semibold mb-2">投稿一覧</h3> <div id="community-board-list" class="space-y-4">

            {% for post in posts %}
                <div class="border border-gray-200 p-4 rounded-lg">
                    <h4 class="text-xl font-bold text-gray-800">{{ post.title }}</h4>
                    <p class="text-gray-700 my-2">{{ post.content }}</p>
                    <small class="text-gray-500">投稿者: {{ post.user_id }} ({{ post.timestamp }})</small>
                </div> {% else %} <p class="text-gray-500">まだ投稿はありません。</p>

            {% endfor %} </div> </div> </div> {% endblock %} {# 'content' ブロックの定義をここで終了します #}